<!DOCTYPE HTML>
<html>
<head>
  <title><%= title %></title>
  <link href="/materialize/font.css" rel="stylesheet">
  <link href="/materialize/materialize.min.css" rel="stylesheet" media="screen,projection">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <link href="/settings_wizard/css" rel="stylesheet">
  <% for (var i = 0; i < views.length; i++) { %><link href="/settings_wizard/<%= views[i].name %>/<%= views[i].name %>.css" rel="stylesheet">
  <% } %>
  <nav class="nav-extended ttb-color-purple">
    <div class="nav-wrapper">
      <div class="brand-logo center truncate"><%= title %></div>

      <% /* %>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
      </ul>
      <% */ %>
    </div>
    <div class="nav-content">
      <ul class="scrollbar_s1 tabs tabs-transparent tabs-fixed-width">
        <% for (var i = 0; i < views.length; i++) { %>
        <li class="tab tab_<%= views[i].order %> <% if(views[i].readable != true){ %>disabled<% } %>"><a href="#wizard_<%= views[i].name  %>" class="navtab navtab_<%= views[i].order %>"><%= views[i].name %></a></li>
        <% } %>
        <% if (views.length == 0) { %>
        <li class="tab"><a href="#wizard_no_settings" class="navtab">no settings</a></li>
        <% } %>
      </ul>
    </div>
  </nav>
</head>
<body>
  <div class="main">
    <% for (var i = 0; i < views.length; i++) { %>
    <div id="wizard_<%= views[i].name %>">
    </div>
    <% } %>
    <% if (views.length == 0) { %>
    <div id="wizard_no_settings" class="row">
      <div class="col m3 hide-on-small-only"></div>
      <div class="col m6 s12 card blue-grey darken-1">
        <div class="card-content white-text">
          Oups, it seems there are no settings available, please contact the support :</br>
          <% if(device == 'timesquair') { %>support@timesquair.io<% } else { %>digitalairways@gmail.com<% } %>
        </div>
      </div>
    </div>
    <% } %>
  </div>
  <script src="/materialize/CryptoJS/crypto-js.min.js" type="text/javascript"></script> <!-- from https://cdnjs.com/libraries/crypto-js -->
  <script src="/materialize/materialize.min.js" type="text/javascript"></script>
  <script src="/materialize/ejs.min.js" type="text/javascript"></script>
  <script src="/materialize/ejs_file_loader.js" type="text/javascript"></script>
  <script src="/materialize/utils.js" type="text/javascript"></script>
  <script src="/materialize/Request.class.js" type="text/javascript"></script>
  <script>
    var form_params = {}
    const params = {
      hostname: "<%= hostname %>",
      device: "<%= device %>",
      lang: "<%= lang %>",
      views: <%- JSON.stringify(views) %>
    };
    for(var v in params.views){
      form_params[params.views[v].name] = {}
    }
  </script>
  <% for (var i = 0; i < views.length; i++) { %><script src="/settings_wizard/<%= views[i].name %>/<%= views[i].name %>.js" type="text/javascript"></script>
  <% } %>
  <script src="/settings_wizard/js" type="text/javascript"></script>
</body>
</html>
